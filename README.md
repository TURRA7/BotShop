# –¢–ï–°–¢–û–í–û–ï –ó–ê–î–ê–ù–ò–ï

## –ó–ê–î–ê–ß–ê

–°–æ–∑–¥–∞—Ç—å Telegram-–±–æ—Ç–∞-–º–∞–≥–∞–∑–∏–Ω —Å –æ–ø–ª–∞—Ç–æ–π, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã:

### –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. **–ö–∞—Ç–∞–ª–æ–≥**  
    - –°–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–Ω–æ–ø–∫–æ–π "–ö—É–ø–∏—Ç—å".  
    - –£ —Ç–æ–≤–∞—Ä–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ü–µ–Ω–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ, –∫–∞—Ä—Ç–∏–Ω–∫–∞.

2. **–ö–æ—Ä–∑–∏–Ω–∞**  
    - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:
        - –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ü–∏—Ñ—Ä–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≥–∏—Ñ—Ç—ã).  
        - –ò—Ç–æ–≥–æ–≤—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å.  
        - –ö–Ω–æ–ø–∫—É —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞.  
        - –ö–Ω–æ–ø–∫—É –æ–ø–ª–∞—Ç—ã.  
        - –ö–Ω–æ–ø–∫—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞.  

3. **–í—ã–±–æ—Ä –æ–ø–ª–∞—Ç—ã**  
    - –í–∞—Ä–∏–∞–Ω—Ç—ã –æ–ø–ª–∞—Ç—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.  
    - –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–≤–∞—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –∏–∑ –±—É–∫–≤ –∏ —Ü–∏—Ñ—Ä (—ç—Ç–æ –∏ –µ—Å—Ç—å "–≥–∏—Ñ—Ç").  

4. **–ë–∞–ª–∞–Ω—Å**  
    - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å.  
    - –ö–Ω–æ–ø–∫–∞ "–ü–æ–ø–æ–ª–Ω–∏—Ç—å".  

5. **–ö–æ–Ω—Ç–∞–∫—Ç—ã**  
    - –°–≤—è–∑—å —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º.  
    - –°–≤—è–∑—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π.  

### –£ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞/–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞:
1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞**  
    - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ FSM-–ø—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è.  

2. **–£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞**  
    - –£ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å".  

3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞**  
    - –£—Å–ª–æ–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥" –¥–ª—è —Ä—É—á–Ω–æ–π –≤—ã–¥–∞—á–∏ –≥–∏—Ñ—Ç–æ–≤.  

4. **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –≤—Ä—É—á–Ω—É—é**  

5. **–°–ø–∏—Å–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –≤—Ä—É—á–Ω—É—é**  

### –í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:
1. –ë–æ—Ç, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–ø–∞–∫–æ–≤–∞–Ω—ã –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Å –ø–æ–º–æ—â—å—é `docker-compose`.  
2. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–Ω—è—Ç–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É –º–æ–¥—É–ª—é.  
3. –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ **Aiogram3**.

---

## –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ö –ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ —Ñ–∞–π–ª–µ `docker-compose.yaml`:
#### –î–ª—è —Å–µ—Ä–≤–∏—Å–∞ `db` —É–∫–∞–∂–∏—Ç–µ:  
- `POSTGRES_DB` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL.  
- `POSTGRES_USER` ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL.  
- `POSTGRES_PASSWORD` ‚Äî –ø–∞—Ä–æ–ª—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL.  

#### –î–ª—è —Å–µ—Ä–≤–∏—Å–∞ `aiogram_bot` —É–∫–∞–∂–∏—Ç–µ:  
- `TOKEN` ‚Äî —Ç–æ–∫–µ–Ω, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —É @BotFather.  
- `ADMIN_ID` ‚Äî ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —É @getmyid_bot.  
- `PG_USER` ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL.  
- `PG_PASS` ‚Äî –ø–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL.  
- `PG_NAME` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL.  
- `YOOKASSA_SECRET_KEY` ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á YooKassa (*).  
- `YOOKASSA_ACCOUNT_ID` ‚Äî ID –º–∞–≥–∞–∑–∏–Ω–∞ YooKassa (*).  

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –û —Ç–æ–º, –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–æ –∑–≤—ë–∑–¥–æ—á–∫–æ–π (*), —á–∏—Ç–∞–π—Ç–µ –Ω–∏–∂–µ.

---

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å `—Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á` –∏ `shopId` –æ—Ç YooKassa:

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**  
    - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Å–∞–π—Ç–µ [YooKassa](https://yookassa.ru/) –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç.  

2. **–°–æ–∑–¥–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞**  
    - –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–π—Ç–µ –º–∞–≥–∞–∑–∏–Ω –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ YooKassa.  

    –í—ã –ø–æ–ª—É—á–∏—Ç–µ:  
    - **–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (`secretKey`)**  
        –ù–∞–π–¥–∏—Ç–µ –µ–≥–æ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ:  
        **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è -> –ö–ª—é—á–∏ API.**  
    - **ShopId**  
        –ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ —Ä—è–¥–æ–º —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –º–∞–≥–∞–∑–∏–Ω–∞ (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã).  

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π**  
    - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–ª–∞—Ç–µ–∂–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —Ñ–∏–∑–ª–∏—Ü (–µ—Å–ª–∏ –≤—ã –Ω–µ –ò–ü –∏–ª–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ).  
    - –í—ã–±–µ—Ä–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–µ—Ç–æ–¥—ã –æ–ø–ª–∞—Ç—ã (–±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã, –∫–æ—à–µ–ª—å–∫–∏ –∏ —Ç. –¥.).  

4. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–æ—Ç–∞ –∫ YooKassa**  
    - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ @BotFather -> **/mybots** -> –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ -> **Payments -> YooKassa -> Connect YooKassa Live**.  
    - –ù–∞–∂–º–∏—Ç–µ **Start**.  
    - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –±–æ—Ç–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.  

---

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —É–∫–∞–∑–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.  
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.  
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:  
    ```bash
    docker-compose up --build
    ```  
4. –ï—Å–ª–∏ –≤—Å—ë —É–∫–∞–∑–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å–æ–±–µ—Ä—É—Ç—Å—è –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. üéâ

---

–¢–µ–ø–µ—Ä—å –≤–∞—à Telegram-–±–æ—Ç-–º–∞–≥–∞–∑–∏–Ω –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!